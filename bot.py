import os
import logging
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, MessageHandler, filters, ContextTypes

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

# FAQ –¥–∞–Ω–Ω—ã–µ
FAQ = {
    "what_is_cert": {
        "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Prosto?",
        "answer": """–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Prosto –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Å—Ä–æ–∫ –±–µ–∑ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è.

–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF –ø—Ä–∏–¥—ë—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –≤–∞–º–∏ –ø–æ—á—Ç—É. –í –Ω—ë–º –±—É–¥–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏."""
    },
    "what_is_studio": {
        "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ Prosto Studio?",
        "answer": """Prosto Studio ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç –æ—Ç Prosto Meditation (Prosto: –ú–µ–¥–∏—Ç–∞—Ü–∏—è –∏ –°–æ–Ω).

Prosto Meditation ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–µ–¥–∏—Ç–∞—Ü–∏–π –æ—Ç –ò—Ä–µ–Ω—ã –ü–æ–Ω–∞—Ä–æ—à–∫—É. –≠—Ç–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∞—É–¥–∏–æ.

Prosto Studio ‚Äî –Ω–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –≤–∏–¥–µ–æ-–∫—É—Ä—Å–∞–º–∏, body hacks –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ –∫–æ–º—å—é–Ω–∏—Ç–∏ (–∑–∞–∫—Ä—ã—Ç—ã–π —á–∞—Ç —Å –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏). –í –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–∫—Ç–∏–∫:
‚Äî –π–æ–≥–∞
‚Äî –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏
‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã –ø–∏–ª–∞—Ç–µ—Å–∞
‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚Äî –∑–≤—É–∫–æ–≤–∞—è —Ç–µ—Ä–∞–ø–∏—è.

–≠—Ç–æ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –ø–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç—É –Ω–∞–¥ —Å–æ–±–æ–π, –∞ –µ—â—ë –∂–∏–≤–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, —Å —Å–∞–º–∏–º —Å–æ–±–æ–π."""
    },
    "cant_pay": {
        "question": "–ù–µ –º–æ–≥—É –æ–ø–ª–∞—Ç–∏—Ç—å",
        "answer": """–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ –Ω–∞–∂–∏–º–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã:
‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ–±—ã –ø–æ—á—Ç–∞ –±—ã–ª–∞ –≤–≤–µ–¥–µ–Ω–∞ —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ,
‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–æ–∏—Ç –≥–∞–ª–æ—á–∫–∞.

‚ú® –û–±—ã—á–Ω–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π. –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ help@prostoapp.com üôå"""
    },
    "how_activate": {
        "question": "–ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?",
        "answer": """–ï—Å–ª–∏ —É –≤–∞—Å –µ—â—ë –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ code.prostoapp.ru
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ email.
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–π–¥–∏—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ email, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–ª–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–æ–π –ª–æ–≥–∏–Ω –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É. 
–î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ > –ù–∞—Å—Ç—Ä–æ–π–∫–∏ > –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π. 
–õ–æ–≥–∏–Ω–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, email –∏–ª–∏ Apple ID / Google ID. 
–ï—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ Apple ID –∏–ª–∏ Google ID, –∑–∞–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ > –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ code.prostoapp.ru

3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É."""
    },
    "check_subscription": {
        "question": "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏?",
        "answer": """–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ > –ù–∞—Å—Ç—Ä–æ–π–∫–∏ > –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π. 
–¢–∞–º —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–ø–∏—Å–∫–∏ —É –≤–∞—Å –∞–∫—Ç–∏–≤–µ–Ω –∏ –¥–æ –∫–∞–∫–æ–π –¥–∞—Ç—ã.

–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ help@prostoapp.com. –ú—ã –Ω–∞ —Å–≤—è–∑–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å 10:00 –¥–æ 20:00 –º—Å–∫."""
    },
    "no_email": {
        "question": "–ù–µ –ø—Ä–∏—à—ë–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ –ø–æ—á—Ç—É",
        "answer": """–ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –ø—Ä–∏—à—ë–ª üì©

üîé –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫–∏ ¬´–°–ø–∞–º¬ª –∏ ¬´–ü—Ä–æ–º–æ–∞–∫—Ü–∏–∏¬ª ‚Äî –ø–∏—Å—å–º–æ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Ç–∞–º.

–ï—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤—Å—ë –∂–µ –Ω–µ—Ç, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ help@prostoapp.com —Å–∫—Ä–∏–Ω—à–æ—Ç –≤–∞—à–µ–π –æ–ø–ª–∞—Ç—ã –∏ –º—ã –≤—ã—à–ª–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç."""
    },
    "no_code": {
        "question": "–ù–µ –ø—Ä–∏—à—ë–ª –∫–æ–¥ –¥–ª—è –≤—Ö–æ–¥–∞",
        "answer": """–ï—Å–ª–∏ –∫–æ–¥ –Ω–µ –ø—Ä–∏—à—ë–ª ‚Äî –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ üôè –ú—ã –±—ã—Å—Ç—Ä–æ –≤—Å—ë —Ä–µ—à–∏–º.

üì© –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ help@prostoapp.com, —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ 79991112233 –∏ –¥–æ–±–∞–≤—å—Ç–µ, —á—Ç–æ –≤–∞–º –Ω—É–∂–µ–Ω –∫–æ–¥ –≤—Ö–æ–¥–∞."""
    },
    "gift": {
        "question": "–ö–∞–∫ –ø–æ–¥–∞—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?",
        "answer": """–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:

1. –ö—É–ø–∏—Ç–µ –Ω–∞–±–æ—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ ¬´–î–ª—è –ø–æ–¥—Ä—É–≥ –∏ –∫–æ–ª–ª–µ–≥¬ª –∏–ª–∏ ¬´–î–ª—è —Å–∞–º—ã—Ö –±–ª–∏–∑–∫–∏—Ö¬ª –Ω–∞ —Å–∞–π—Ç–µ. –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ—é –ø–æ—á—Ç—É –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ.

2. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF –ø—Ä–∏–¥—É—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –ø–æ—á—Ç—É. –ò—Ö –º–æ–∂–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Å–ª–∞—Ç—å —Ç–µ–º, –∫–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫.

3. –ü–æ–ª—É—á–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–æ—á—Ç—É (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –µ—Å—Ç—å –≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ)."""
    },
    "already_subscribed": {
        "question": "–ï—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞ ‚Äî –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å?",
        "answer": """–î–∞, –∫–æ–Ω–µ—á–Ω–æ! 

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å—É–º–º–∏—Ä—É–µ—Ç—Å—è —Å –≤–∞—à–µ–π –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –ø–æ–¥–ø–∏—Å–∫–æ–π –∏–ª–∏ –¥—Ä—É–≥–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º.
–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –±—ã–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π.
–ï—Å–ª–∏ —É –≤–∞—Å –±—ã–ª–∞ –ø–æ–¥–ø–∏—Å–∫–∞ ‚Äî –µ—ë –ª—É—á—à–µ –æ—Ç–º–µ–Ω–∏—Ç—å, —á—Ç–æ–±—ã –ø–æ –Ω–µ–π –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è."""
    },
    "cancel_subscription": {
        "question": "–ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ?",
        "answer": """–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –º–æ–∂–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ App Store –∏–ª–∏ Google Play. 

–ï—Å–ª–∏ –≤—ã –æ—Ñ–æ—Ä–º–∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ —Å–∞–π—Ç–µ –∏–ª–∏ —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –Ω–∞—à—É —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ help@prostoapp.com –∏ –º—ã –≤–∞–º –ø–æ–º–æ–∂–µ–º."""
    },
    "cert_validity": {
        "question": "–°–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?",
        "answer": """–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 2 –ª–µ—Ç."""
    },
    "my_login": {
        "question": "–ö–∞–∫–æ–π —É –º–µ–Ω—è –ª–æ–≥–∏–Ω?",
        "answer": """–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–π –ª–æ–≥–∏–Ω –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ > –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–∫–æ–Ω–∫–∞ —á–µ–ª–æ–≤–µ—á–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É) > –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π (–∑–Ω–∞—á–æ–∫ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É). –¢–∞–º —É–≤–∏–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω.

–õ–æ–≥–∏–Ω–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å:
‚Äî –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
‚Äî email –∏–ª–∏ Apple ID / Google ID

–ï—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ Apple ID –∏–ª–∏ Google ID, –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –ø–æ—á—Ç—É. –î–ª—è —ç—Ç–æ–≥–æ –∑–∞–π–¥–∏—Ç–µ –≤:
> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–∫–æ–Ω–∫–∞ —á–µ–ª–æ–≤–µ—á–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É)
> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π (–∑–Ω–∞—á–æ–∫ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

–í–∞–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É."""
    },
    "add_email_phone": {
        "question": "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—á—Ç—É/—Ç–µ–ª–µ—Ñ–æ–Ω –≤ –∞–∫–∫–∞—É–Ω—Ç?",
        "answer": """–ï—Å–ª–∏ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ Google –∏–ª–∏ Apple ID, –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –ø—Ä–æ–º–æ–∫–æ–¥–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –∞–¥—Ä–µ—Å –ø–æ—á—Ç—ã –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

–î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–∫–æ–Ω–∫–∞ —á–µ–ª–æ–≤–µ—á–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É)
> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π (–∑–Ω–∞—á–æ–∫ —à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ email –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞."""
    },
    "support": {
        "question": "–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π",
        "answer": """–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ help@prostoapp.com. –≠—Ç–æ –Ω–∞—à–∞ —Å–ª—É–∂–±–∞ –∑–∞–±–æ—Ç—ã üíô

–í –ø–µ—Ä–∏–æ–¥ –∞–∫—Ü–∏–∏ –º—ã –º–æ–∂–µ–º –æ—Ç–≤–µ—á–∞—Ç—å —á—É—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å –æ—Ç–≤–µ—Ç–æ–º –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤. –ú—ã –Ω–∞ —Å–≤—è–∑–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å 10:00 –¥–æ 20:00 –ø–æ –º—Å–∫."""
    }
}

def get_main_keyboard():
    """–°–æ–∑–¥–∞—ë—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏"""
    keyboard = [
        [InlineKeyboardButton("üé´ –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?", callback_data="what_is_cert")],
        [InlineKeyboardButton("üßò –ß—Ç–æ —Ç–∞–∫–æ–µ Prosto Studio?", callback_data="what_is_studio")],
        [InlineKeyboardButton("‚úÖ –ö–∞–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?", callback_data="how_activate")],
        [InlineKeyboardButton("üìÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–æ–∫ –ø–æ–¥–ø–∏—Å–∫–∏?", callback_data="check_subscription")],
        [InlineKeyboardButton("üì© –ù–µ –ø—Ä–∏—à—ë–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ –ø–æ—á—Ç—É", callback_data="no_email")],
        [InlineKeyboardButton("üî¢ –ù–µ –ø—Ä–∏—à—ë–ª –∫–æ–¥ –¥–ª—è –≤—Ö–æ–¥–∞", callback_data="no_code")],
        [InlineKeyboardButton("üí≥ –ù–µ –º–æ–≥—É –æ–ø–ª–∞—Ç–∏—Ç—å", callback_data="cant_pay")],
        [InlineKeyboardButton("üéÅ –ö–∞–∫ –ø–æ–¥–∞—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?", callback_data="gift")],
        [InlineKeyboardButton("‚ûï –ï—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞ ‚Äî –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å?", callback_data="already_subscribed")],
        [InlineKeyboardButton("üîÑ –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ?", callback_data="cancel_subscription")],
        [InlineKeyboardButton("‚è≥ –°–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç?", callback_data="cert_validity")],
        [InlineKeyboardButton("üë§ –ö–∞–∫–æ–π —É –º–µ–Ω—è –ª–æ–≥–∏–Ω?", callback_data="my_login")],
        [InlineKeyboardButton("üì± –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—á—Ç—É/—Ç–µ–ª–µ—Ñ–æ–Ω?", callback_data="add_email_phone")],
        [InlineKeyboardButton("üí¨ –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π", callback_data="support")],
    ]
    return InlineKeyboardMarkup(keyboard)

def get_back_keyboard():
    """–ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    keyboard = [[InlineKeyboardButton("‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é", callback_data="back_to_menu")]]
    return InlineKeyboardMarkup(keyboard)

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    welcome_text = """–ü—Ä–∏–≤–µ—Ç! üëã

–í —ç—Ç–æ–º –±–æ—Ç–µ –º—ã —Å–æ–±—Ä–∞–ª–∏ —Å–∞–º—ã–µ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–æ–º –Ω–∏–∂–µ.

–ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞—à–µ–π —Å–ª—É–∂–±–µ –∑–∞–±–æ—Ç—ã –Ω–∞ help@prostoapp.com ‚Äî –º—ã –ø–æ–º–æ–∂–µ–º! üòá"""
    
    await update.message.reply_text(
        welcome_text,
        reply_markup=get_main_keyboard()
    )

async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏"""
    query = update.callback_query
    await query.answer()
    
    if query.data == "back_to_menu":
        welcome_text = """–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ üëá

–ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞ help@prostoapp.com ‚Äî –º—ã –ø–æ–º–æ–∂–µ–º! üòá"""
        await query.edit_message_text(
            text=welcome_text,
            reply_markup=get_main_keyboard()
        )
    elif query.data in FAQ:
        faq_item = FAQ[query.data]
        await query.edit_message_text(
            text=faq_item["answer"],
            reply_markup=get_back_keyboard()
        )

async def text_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî –Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É"""
    response = """–Ø –ø–æ–∫–∞ —É–º–µ—é –æ—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –º–µ–Ω—é üôè

–ï—Å–ª–∏ —É –≤–∞—Å –¥—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞—à–µ–π —Å–ª—É–∂–±–µ –∑–∞–±–æ—Ç—ã –Ω–∞ help@prostoapp.com ‚Äî —Ç–∞–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–º–æ–≥—É—Ç! üíô

–ù–∞–∂–º–∏—Ç–µ /start —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é."""
    
    await update.message.reply_text(response)

def main():
    """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
    token = os.environ.get("TELEGRAM_BOT_TOKEN")
    
    if not token:
        logger.error("TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!")
        return
    
    # –°–æ–∑–¥–∞—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    application = Application.builder().token(token).build()
    
    # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CallbackQueryHandler(button_handler))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, text_handler))
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
    logger.info("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    application.run_polling(allowed_updates=Update.ALL_TYPES)

if __name__ == "__main__":
    main()
